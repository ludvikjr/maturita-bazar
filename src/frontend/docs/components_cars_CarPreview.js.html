<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: components/cars/CarPreview.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: components/cars/CarPreview.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import React from "react";
import { Async } from "react-async";
import { useHistory } from "react-router-dom";
import "../../resources/style/CarPreview.css";

/**
 * Car preview component for home page
 * @param {*} props props passed down in App component
 * @returns Car preview
 */
export default function CarPreview(props) {
  const car = props.car.car;

  const history = useHistory();

  /**
   * Redirects user to the car page
   */
  const handleClick = () => {
    history.push(`/cars/${car._id}`);
  };

  /**
   * @returns Conversion rates from EUR to CZK
   */
  async function getRateFromApi() {
    try {
      const rate = await fetch(
        "https://api.exchangerate.host/convert?from=EUR&amp;to=CZK"
      );
      const json = await rate.json();
      return json.result;
    } catch (e) {
      console.log(e);
    }
  }

  return (
    &lt;div onClick={handleClick} className="box car-card columns">
      &lt;div
        className="car-image has-text-centered column is-one-third-desktop"
        style={{
          backgroundImage: `url(${car.imagePath})`,
        }}
      >&lt;/div>
      &lt;div className="car-desc column is-two-thirds-desktop">
        &lt;div className="columns">
          &lt;div className="column is-three-quarters desc">
            &lt;h3 className="has-text-navy-blue ">{car.name}&lt;/h3>
            &lt;h5 className="under-heading">
              {car.manufactured}, {car.mileage} km, {car.power} kW (
              {Math.round(car.power * 1.36)} PS)
            &lt;/h5>
            &lt;ul>
              &lt;li id="cathegory">
                &lt;i className="fas fa-car has-text-grey">&lt;/i>
                {car.type}
              &lt;/li>
              &lt;li id="transmission">
                &lt;i className="fas fa-cog has-text-grey">&lt;/i>
                {car.transmission}
              &lt;/li>
              &lt;li id="exterior-color">
                &lt;i className="fas fa-tint has-text-grey">&lt;/i>
                {car.color}
              &lt;/li>
              &lt;li id="consumption">
                &lt;i className="fas fa-gas-pump has-text-grey">&lt;/i>
                {car.consumption}l/100km
              &lt;/li>
            &lt;/ul>
          &lt;/div>
          &lt;div className="has-background-navy-blue column is-one-quarter desc price">
            &lt;h4 className="has-text-white price-heading">Price: &lt;/h4>
            &lt;h4 className="has-text-center has-text-white mikes">
              {car.cost.toLocaleString()}€
            &lt;/h4>
            &lt;Async promiseFn={getRateFromApi}>
              {({ data, error, isLoading }) => {
                if (isLoading) return "bruh";
                if (error) return `Something went wrong: ${error.message}`;
                if (data)
                  return (
                    &lt;h4 className="has-text-white has-text-center mikes">
                      {Math.round(data * car.cost).toLocaleString()} CZK
                    &lt;/h4>
                  );
              }}
            &lt;/Async>
          &lt;/div>
        &lt;/div>
      &lt;/div>
    &lt;/div>
  );
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#AdminPanel">AdminPanel</a></li><li><a href="global.html#App">App</a></li><li><a href="global.html#getCats">getCats</a></li><li><a href="global.html#initialState">initialState</a></li><li><a href="global.html#Loader">Loader</a></li><li><a href="global.html#Signin">Signin</a></li><li><a href="global.html#Signup">Signup</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.10</a> on Wed Mar 23 2022 20:14:29 GMT+0100 (Středoevropský standardní čas)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
